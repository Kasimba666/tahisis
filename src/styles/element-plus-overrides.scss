// Element Plus компоненты - полная стилизация под тему
// Убираем все белые цвета и интегрируем с нашей темой

// Глобальные переменные Element Plus
:root {
  --el-color-primary: var(--accent-primary);
  --el-color-primary-light-3: var(--accent-hover);
  --el-color-primary-light-5: rgba(100, 108, 255, 0.5);
  --el-color-primary-light-7: rgba(100, 108, 255, 0.3);
  --el-color-primary-light-8: rgba(100, 108, 255, 0.2);
  --el-color-primary-light-9: rgba(100, 108, 255, 0.1);
  
  --el-color-success: var(--success);
  --el-color-warning: var(--warning);
  --el-color-danger: var(--error);
  --el-color-error: var(--error);
  --el-color-info: var(--info);
  
  --el-border-radius-base: 8px;
  --el-border-radius-small: 6px;
  --el-border-radius-round: 20px;
  --el-border-radius-circle: 100%;
  
  --el-box-shadow: 0 4px 12px var(--shadow);
  --el-box-shadow-light: 0 2px 8px var(--shadow);
  --el-box-shadow-dark: 0 6px 16px var(--shadow);
}

// Input компоненты
.el-input {
  --el-input-bg-color: var(--bg-primary);
  --el-input-border-color: var(--border-color);
  --el-input-hover-border-color: var(--accent-primary);
  --el-input-focus-border-color: var(--accent-primary);
  --el-input-text-color: var(--text-primary);
  --el-input-placeholder-color: var(--text-muted);
  
  .el-input__wrapper {
    background-color: var(--bg-primary) !important;
    border-color: var(--border-color) !important;
    box-shadow: none !important;
    transition: all 0.3s ease;
    
    &:hover {
      border-color: var(--accent-primary) !important;
    }
    
    &.is-focus {
      border-color: var(--accent-primary) !important;
      box-shadow: 0 0 0 2px rgba(100, 108, 255, 0.2) !important;
    }
  }
  
  .el-input__inner {
    color: var(--text-primary) !important;
    background-color: transparent !important;
    
    &::placeholder {
      color: var(--text-muted) !important;
    }
  }
  
  .el-input__prefix,
  .el-input__suffix {
    color: var(--text-secondary) !important;
  }
}

// Textarea
.el-textarea {
  .el-textarea__inner {
    background-color: var(--bg-primary) !important;
    border-color: var(--border-color) !important;
    color: var(--text-primary) !important;
    
    &::placeholder {
      color: var(--text-muted) !important;
    }
    
    &:hover {
      border-color: var(--accent-primary) !important;
    }
    
    &:focus {
      border-color: var(--accent-primary) !important;
      box-shadow: 0 0 0 2px rgba(100, 108, 255, 0.2) !important;
    }
  }
}

// Input Number
.el-input-number {
  .el-input__wrapper {
    background-color: var(--bg-primary) !important;
    border-color: var(--border-color) !important;
  }
  
  .el-input-number__decrease,
  .el-input-number__increase {
    background-color: var(--bg-secondary) !important;
    border-color: var(--border-color) !important;
    color: var(--text-primary) !important;
    
    &:hover {
      background-color: var(--bg-tertiary) !important;
      color: var(--accent-primary) !important;
    }
  }
}

// Button компоненты
.el-button {
  --el-button-bg-color: var(--bg-secondary);
  --el-button-border-color: var(--border-color);
  --el-button-text-color: var(--text-primary);
  --el-button-hover-bg-color: var(--bg-tertiary);
  --el-button-hover-border-color: var(--accent-primary);
  --el-button-hover-text-color: var(--accent-primary);
  
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
  color: var(--text-primary) !important;
  transition: all 0.3s ease;
  
  &:hover {
    background-color: var(--bg-tertiary) !important;
    border-color: var(--accent-primary) !important;
    color: var(--accent-primary) !important;
  }
  
  &.el-button--primary {
    background-color: var(--accent-primary) !important;
    border-color: var(--accent-primary) !important;
    color: var(--bg-primary) !important;
    
    &:hover {
      background-color: var(--accent-hover) !important;
      border-color: var(--accent-hover) !important;
      color: var(--bg-primary) !important;
    }
  }
  
  &.el-button--success {
    background-color: var(--success) !important;
    border-color: var(--success) !important;
    color: var(--bg-primary) !important;
    
    &:hover {
      background-color: rgba(76, 175, 80, 0.8) !important;
      border-color: rgba(76, 175, 80, 0.8) !important;
    }
  }
  
  &.el-button--danger {
    background-color: var(--error) !important;
    border-color: var(--error) !important;
    color: var(--bg-primary) !important;
    
    &:hover {
      background-color: rgba(244, 67, 54, 0.8) !important;
      border-color: rgba(244, 67, 54, 0.8) !important;
    }
  }
}

// Table компоненты
.el-table {
  --el-table-bg-color: var(--bg-primary);
  --el-table-tr-bg-color: var(--bg-primary);
  --el-table-header-bg-color: var(--bg-secondary);
  --el-table-row-hover-bg-color: var(--bg-secondary);
  --el-table-border-color: var(--border-color);
  --el-table-text-color: var(--text-primary);
  
  background-color: var(--bg-primary) !important;
  color: var(--text-primary) !important;
  border-color: var(--border-color) !important;
  
  .el-table__header {
    background-color: var(--bg-secondary) !important;
    
    th {
      background-color: var(--bg-secondary) !important;
      color: var(--text-primary) !important;
      border-color: var(--border-color) !important;
      font-weight: 600;
    }
  }
  
  .el-table__body {
    tr {
      background-color: var(--bg-primary) !important;
      
      &:hover {
        background-color: var(--bg-secondary) !important;
      }
      
      td {
        border-color: var(--border-color) !important;
        color: var(--text-primary) !important;
      }
    }
    
    .el-table__row--striped {
      background-color: var(--bg-secondary) !important;
      
      &:hover {
        background-color: var(--bg-tertiary) !important;
      }
    }
  }
  
  .el-table__empty-block {
    background-color: var(--bg-primary) !important;
    color: var(--text-muted) !important;
  }
  
  // Убираем белый цвет из всех элементов таблицы
  .el-table__cell {
    background-color: transparent !important;
  }
  
  .el-table__fixed {
    background-color: var(--bg-primary) !important;
  }
  
  .el-table__fixed-header-wrapper {
    background-color: var(--bg-secondary) !important;
  }
  
  .el-table__fixed-body-wrapper {
    background-color: var(--bg-primary) !important;
  }
  
  // Checkbox в таблице
  .el-checkbox {
    .el-checkbox__input {
      .el-checkbox__inner {
        background-color: var(--bg-secondary) !important;
        border-color: var(--border-color) !important;
        
        &:hover {
          border-color: var(--accent-primary) !important;
        }
      }
      
      &.is-checked .el-checkbox__inner {
        background-color: var(--accent-primary) !important;
        border-color: var(--accent-primary) !important;
      }
    }
  }
}

// Menu компоненты
.el-menu {
  background-color: transparent !important;
  border-color: var(--border-color) !important;
  
  .el-menu-item {
    color: var(--text-secondary) !important;
    background-color: transparent !important;
    
    &:hover {
      background-color: var(--bg-secondary) !important;
      color: var(--accent-primary) !important;
    }
    
    &.is-active {
      background-color: var(--bg-secondary) !important;
      color: var(--accent-primary) !important;
    }
  }
  
  .el-sub-menu {
    .el-sub-menu__title {
      color: var(--text-secondary) !important;
      background-color: transparent !important;
      
      &:hover {
        background-color: var(--bg-secondary) !important;
        color: var(--accent-primary) !important;
      }
    }
    
    &.is-active .el-sub-menu__title {
      color: var(--accent-primary) !important;
    }
  }
  
  // Выпадающие меню
  .el-menu--popup {
    background-color: var(--bg-primary) !important;
    border: 1px solid var(--border-color) !important;
    box-shadow: var(--el-box-shadow) !important;
    
    .el-menu-item {
      color: var(--text-secondary) !important;
      
      &:hover {
        background-color: var(--bg-secondary) !important;
        color: var(--accent-primary) !important;
      }
    }
  }
}

// Slider компоненты
.el-slider {
  .el-slider__runway {
    background-color: var(--bg-tertiary) !important;
  }
  
  .el-slider__bar {
    background-color: var(--accent-primary) !important;
  }
  
  .el-slider__button {
    border-color: var(--accent-primary) !important;
    background-color: var(--bg-primary) !important;
    
    &:hover {
      border-color: var(--accent-hover) !important;
      transform: scale(1.2);
    }
  }
  
  .el-slider__stop {
    background-color: var(--border-color) !important;
  }
  
  .el-slider__marks-text {
    color: var(--text-secondary) !important;
  }
  
  .el-slider__button-wrapper {
    &:hover,
    &.hover {
      .el-slider__button {
        transform: scale(1.2);
      }
    }
  }
}

// Form компоненты
.el-form {
  .el-form-item__label {
    color: var(--text-primary) !important;
    font-weight: 500;
  }
  
  .el-form-item__error {
    color: var(--error) !important;
  }
}

// Tag компоненты
.el-tag {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
  color: var(--text-primary) !important;
  
  &.el-tag--success {
    background-color: rgba(76, 175, 80, 0.1) !important;
    border-color: var(--success) !important;
    color: var(--success) !important;
  }
  
  &.el-tag--warning {
    background-color: rgba(255, 152, 0, 0.1) !important;
    border-color: var(--warning) !important;
    color: var(--warning) !important;
  }
  
  &.el-tag--danger {
    background-color: rgba(244, 67, 54, 0.1) !important;
    border-color: var(--error) !important;
    color: var(--error) !important;
  }
  
  &.el-tag--info {
    background-color: rgba(33, 150, 243, 0.1) !important;
    border-color: var(--info) !important;
    color: var(--info) !important;
  }
}

// Color Picker
.el-color-picker {
  .el-color-picker__trigger {
    border-color: var(--border-color) !important;
    
    &:hover {
      border-color: var(--accent-primary) !important;
    }
  }
}

// Dropdown и Popper
.el-popper {
  background-color: var(--bg-primary) !important;
  border-color: var(--border-color) !important;
  box-shadow: var(--el-box-shadow) !important;
  color: var(--text-primary) !important;
  
  .el-popper__arrow::before {
    background-color: var(--bg-primary) !important;
    border-color: var(--border-color) !important;
  }
}

// Select dropdown
.el-select-dropdown {
  background-color: var(--bg-primary) !important;
  border-color: var(--border-color) !important;
  
  .el-select-dropdown__item {
    background-color: transparent !important;
    color: var(--text-primary) !important;
    
    &:hover {
      background-color: var(--bg-secondary) !important;
    }
    
    &.selected {
      background-color: var(--accent-primary) !important;
      color: var(--bg-primary) !important;
    }
  }
}

// Progress компонент
.el-progress {
  .el-progress-bar__outer {
    background-color: var(--bg-tertiary) !important;
  }
  
  .el-progress-bar__inner {
    background-color: var(--accent-primary) !important;
  }
}

// Scrollbar
.el-scrollbar {
  .el-scrollbar__thumb {
    background-color: var(--border-color) !important;
    
    &:hover {
      background-color: var(--text-muted) !important;
    }
  }
  
  .el-scrollbar__track {
    background-color: var(--bg-secondary) !important;
  }
}

// Loading
.el-loading-mask {
  background-color: rgba(15, 20, 25, 0.8) !important;
  
  .el-loading-spinner {
    color: var(--accent-primary) !important;
  }
}

// Message
.el-message {
  background-color: var(--bg-primary) !important;
  border-color: var(--border-color) !important;
  color: var(--text-primary) !important;
  box-shadow: var(--el-box-shadow) !important;
  
  &.el-message--success {
    background-color: rgba(76, 175, 80, 0.1) !important;
    border-color: var(--success) !important;
    color: var(--success) !important;
  }
  
  &.el-message--warning {
    background-color: rgba(255, 152, 0, 0.1) !important;
    border-color: var(--warning) !important;
    color: var(--warning) !important;
  }
  
  &.el-message--error {
    background-color: rgba(244, 67, 54, 0.1) !important;
    border-color: var(--error) !important;
    color: var(--error) !important;
  }
  
  &.el-message--info {
    background-color: rgba(33, 150, 243, 0.1) !important;
    border-color: var(--info) !important;
    color: var(--info) !important;
  }
}

// Notification
.el-notification {
  background-color: var(--bg-primary) !important;
  border-color: var(--border-color) !important;
  color: var(--text-primary) !important;
  box-shadow: var(--el-box-shadow) !important;
  
  .el-notification__title {
    color: var(--text-primary) !important;
  }
  
  .el-notification__content {
    color: var(--text-secondary) !important;
  }
}

// Dialog
.el-dialog {
  background-color: var(--bg-primary) !important;
  border: 1px solid var(--border-color) !important;
  box-shadow: var(--el-box-shadow-dark) !important;
  
  .el-dialog__header {
    background-color: var(--bg-secondary) !important;
    border-bottom: 1px solid var(--border-color) !important;
    
    .el-dialog__title {
      color: var(--text-primary) !important;
    }
  }
  
  .el-dialog__body {
    color: var(--text-primary) !important;
  }
  
  .el-dialog__footer {
    background-color: var(--bg-secondary) !important;
    border-top: 1px solid var(--border-color) !important;
  }
}

// Overlay
.el-overlay {
  background-color: rgba(0, 0, 0, 0.5) !important;
}

// Drawer
.el-drawer {
  background-color: var(--bg-primary) !important;
  color: var(--text-primary) !important;
  
  .el-drawer__header {
    background-color: var(--bg-secondary) !important;
    border-bottom: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
  }
}

// Tooltip
.el-tooltip__popper {
  background-color: var(--bg-tertiary) !important;
  color: var(--text-primary) !important;
  border: 1px solid var(--border-color) !important;
  
  .el-tooltip__arrow::before {
    background-color: var(--bg-tertiary) !important;
    border-color: var(--border-color) !important;
  }
}

// Pagination
.el-pagination {
  .el-pager li {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
    
    &:hover {
      color: var(--accent-primary) !important;
    }
    
    &.is-active {
      background-color: var(--accent-primary) !important;
      color: var(--bg-primary) !important;
    }
  }
  
  .btn-prev,
  .btn-next {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
    
    &:hover {
      color: var(--accent-primary) !important;
    }
  }
  
  .el-pagination__editor {
    background-color: var(--bg-secondary) !important;
    border-color: var(--border-color) !important;
    color: var(--text-primary) !important;
  }
  
  .el-pagination__sizes {
    .el-select {
      .el-input__wrapper {
        background-color: var(--bg-secondary) !important;
      }
    }
  }
}